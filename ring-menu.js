/*!
 * RingMenu v1.0.0
 * (c) 2020 Vukašin Stepanović
 * Released under the MIT License.
 */
var RM=function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,e)};var e=function(){return(e=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function r(t,n){if(!t)throw new i(n)}var o,u,i=function(t){function e(n){var r=t.call(this,n)||this;return r.name="AssertError",Object.setPrototypeOf(r,e.prototype),r}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Error);function c(t,n){if("number"==typeof t&&(t<0||t>360))throw new i(n+" must be a valid angle from 0 to 360 degrees.")}function a(t){return r(t>0,"A dynamic value must have a positive factor."),{__dynamic:!0,factor:t}}function f(t){return"object"==typeof t&&!0===t.__dynamic}function s(t){return"number"==typeof t}function l(t){return!("object"!=typeof t||Array.isArray(t)||null===t||t instanceof Element)}function v(t){return Array.isArray(t)}function d(t){return"number"==typeof t||f(t)}function b(t){return"object"==typeof t&&null!==t&&t.type===o.Text}function g(t){return"string"==typeof t||b(t)||t instanceof SVGElement}function m(t){return t.reduce((function(t,n){return t+n}),0)}function p(t){return function(n){return n.map(t)}}function y(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return n.reduce((function(t,n){return n(t)}),t)}function h(t){return function(n){for(var e=[],r=[[g,u.Content],[s,u.Number],[d,u.Angle],[l,u.Object],[v,u.Array],[function(){return!0},u.Unknown]],o=0,i=n;o<i.length;o++)for(var c=i[o],a=0,f=r;a<f.length;a++){var b=f[a],m=b[0],p=b[1];if(m(c)){e.push(p);break}}for(var y=function(t,r){if(n.length===t.length&&e.every((function(n,e){return n===u.Number&&t[e]===u.Angle||n===t[e]})))return{value:r()}},h=0,A=t;h<A.length;h++){var w=A[h],j=y(w[0],w[1]);if("object"==typeof j)return j.value}throw new Error("Unknown argument order was provided.")}}function A(t,n,e){return void 0===e&&(e={}),r(t>0,"Circle radius must be a positive number."),{type:o.Circle,radius:t,attrs:e,content:n}}function w(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=0,r=t;e<r.length;e++){var o=r[e];if(!f(o))return o}throw new Error("Last angle in resolution chain must be static.")}function j(t,n,r){var o=function(t,n){var e=y(n,p((function(t){return w(t.angle,0)})),m),r=y(n,p((function(n){var e;return w(null!=(e=n.offset)?e:t,0)})),m);c(e,"Sum of static angles"),c(r,"Sum of static offsets"),c(e+r,"Sum of static angles and static offsets");var o=n.reduce((function(n,e){var r;n+=f(e.angle)?e.angle.factor:0;var o=null!=(r=e.offset)?r:t;return n+=f(o)?o.factor:0}),0);return o>0?(360-e-r)/o:0}(n,r),u=function(t){return f(t)?o*t.factor:t},i=r.map((function(t){var r;return e(e({},t),{angle:u(t.angle),offset:u((r=t.offset,null!=r?r:n))})})),a=u(t);return i.map((function(t){var n=t.offset;return t.offset=a,a+=n+t.angle,t}))}function O(t,n,e,u,i){void 0===n&&(n=0),void 0===e&&(e=0),void 0===i&&(i={}),r(u.length>0,"A ring must have at least one sector.");var c=j(e,n,u);return{type:o.Ring,width:t,sectors:c,attrs:i}}function N(t,n,e,r){return void 0===n&&(n=a(1)),void 0===r&&(r={}),c(n,"Sector angle"),void 0!==e&&c(e,"Sector offset"),{type:o.Sector,angle:n,offset:e,attrs:r,content:t}}function C(t,n,e,r){return void 0===n&&(n=1),void 0===r&&(r={}),N(t,a(n),e&&a(e),r)}function x(t){return function(n,e){void 0===e&&(e=[]);var r=document.createElementNS("http://www.w3.org/2000/svg",t);return function(t,n){Object.keys(n).forEach((function(e){var r,o=n[e];"ref"!==e&&null!=o&&("class"!==e&&"className"!==e?"textContent"!==e?"style"!==e||"object"!=typeof o?t.setAttribute(e,o):Object.assign(t.style,o):t.textContent=o:(r=t.classList).add.apply(r,o.split(/\s+/)))}))}(r,n),e.forEach((function(t){return r.appendChild(t)})),r}}!function(t){t.Text="text",t.Circle="circle",t.Gap="gap",t.Ring="ring",t.Sector="sector",t.Menu="menu"}(o||(o={})),function(t){t.Content="content",t.Number="number",t.Angle="angle",t.Object="object",t.Array="array",t.Unknown="unknown"}(u||(u={}));var M=x("g"),S=x("svg");function _(t){return t/180*Math.PI}function P(t,n){return Number(t.toFixed(n))}function E(t,n,r){if("string"==typeof t||b(t)){var o=b(t)?t.text:t,u=b(t)?t.attrs:{};return function(t,n,r,o){return void 0===o&&(o={}),x("text")(e({textContent:t,x:n,y:r},o))}(o,n,r,e({"text-anchor":"middle","dominant-baseline":"middle",fill:"black",style:{userSelect:"none",msUserSelect:"none",webkitUserSelect:"none"}},u))}return M({transform:"translate("+n+", "+r+")"},[t])}function k(t,n,r,o,u){var i,c,a,f,s,l,v,d=(f=n,s=r,l=t.radius,void 0===(v=e(e({},t.attrs),{tabindex:o.includeTabIndexes?0:void 0}))&&(v={}),x("circle")(e({cx:f,cy:s,r:l},v)));if(void 0===t.content)return null===(i=u)||void 0===i||i(t.attrs.ref,d,d),d;var g=E(t.content,n,r),m=M({},[d,g]);return null===(c=u)||void 0===c||c(t.attrs.ref,m,d),b(t.content)&&(null===(a=u)||void 0===a||a(t.content.attrs.ref,g,g)),m}function T(t,n,r,o){var u,i=t.sectors.map((function(u){return function(t,n,r,o,u){var i,c,a,f=n+t,s=n,l=_(r.angle)-1e-4,v=P(f*Math.sin(l),3),d=P(f-f*Math.cos(l),3),g=P(t*Math.sin(l),3),m=P(t*Math.cos(l),3),p=l>Math.PI?1:0,y=function(t,n){return void 0===n&&(n={}),x("path")(e({d:t},n))}("\n    M 0 "+-s+"\n    L 0 "+-f+"\n    a "+f+" "+f+" 0 "+p+" 1 "+v+" "+d+"\n    l "+-g+" "+m+"\n    A "+s+" "+s+" 0 "+p+" 0 0 "+-s+"\n  ",e(e({transform:"rotate("+r.offset+", 0, 0)"},r.attrs),{tabindex:o.includeTabIndexes?0:void 0}));if(void 0===r.content)return null===(i=u)||void 0===i||i(r.attrs.ref,y,y),y;var h=_(r.offset+r.angle/2),A=P((s+t/2)*Math.sin(h),3),w=P((s+t/2)*-Math.cos(h),3),j=E(r.content,A,w),O=M({},[y,j]);null===(c=u)||void 0===c||c(r.attrs.ref,O,y),b(r.content)&&(null===(a=u)||void 0===a||a(r.content.attrs.ref,O,j));return O}(t.width,n,u,r,o)})),c=M(t.attrs,i);return null===(u=o)||void 0===u||u(t.attrs.ref,c,c),c}function G(t,n,e,r){switch(t.type){case o.Circle:return{el:k(t,0,0,e,r),newPos:n+t.radius};case o.Gap:return{el:void 0,newPos:n+t.width};case o.Ring:return{el:T(t,n,e,r),newPos:n+t.width}}}var I={includeTabIndexes:!1};return t.build=function(t,n){void 0===n&&(n={});for(var o=e(e({},I),n),u=0,i=[],c={},a=function(t){return function(n,e,o){return void 0===n?t:(r("string"==typeof n,"A ref must be a string."),r(!t.hasOwnProperty(n),"Duplicate ref: "+n),t[n]={wrapper:e,self:o},t)}}(c),f=0,s=t.structure;f<s.length;f++){var l=G(s[f],u,o,a),v=l.el;u=l.newPos,v&&i.push(v)}var d=2*u,b=S(e({width:d,height:d,viewBox:"0 0 "+d+" "+d},t.attrs),[M({transform:"translate("+d/2+", "+d/2+")"},i)]);return a(t.attrs.ref,b,b),{el:b,refs:Object.freeze(c)}},t.circle=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[0],r=t[1],o=t[2];return h([[[u.Number],function(){return A(e)}],[[u.Number,u.Content],function(){return A(e,r)}],[[u.Number,u.Object],function(){return A(e,void 0,r)}],[[u.Number,u.Content,u.Object],function(){return A(e,r,o)}]])(t)},t.dsector=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[0],r=t[1],o=t[2],i=t[3];return h([[[],function(){return C()}],[[u.Object],function(){return C(void 0,void 0,void 0,e)}],[[u.Content],function(){return C(e)}],[[u.Content,u.Object],function(){return C(e,void 0,void 0,r)}],[[u.Number],function(){return C(void 0,e)}],[[u.Number,u.Number],function(){return C(void 0,e,r)}],[[u.Number,u.Number,u.Object],function(){return C(void 0,e,r,o)}],[[u.Content,u.Number],function(){return C(e,r)}],[[u.Content,u.Number,u.Number],function(){return C(e,r,o)}],[[u.Content,u.Number,u.Object],function(){return C(e,r,void 0,o)}],[[u.Content,u.Number,u.Number,u.Object],function(){return C(e,r,o,i)}]])(t)},t.dynamic=a,t.gap=function(t){return r(s(t)&&t>0,"Gap width must be a positive number."),{type:o.Gap,width:t}},t.menu=function(t,n){return void 0===n&&(n={}),r(t.length>0,"Menu cannot be empty."),t.forEach((function(t,n){r(0===n||t.type!==o.Circle,"A circle can only be found in the center of the menu.")})),{type:o.Menu,structure:t,attrs:n}},t.ring=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[0],r=t[1],o=t[2],i=t[3],c=t[4];return h([[[u.Number,u.Array],function(){return O(e,void 0,void 0,r)}],[[u.Number,u.Array,u.Object],function(){return O(e,void 0,void 0,r,o)}],[[u.Number,u.Angle,u.Array],function(){return O(e,r,void 0,o)}],[[u.Number,u.Angle,u.Array,u.Object],function(){return O(e,r,void 0,o,i)}],[[u.Number,u.Angle,u.Angle,u.Array],function(){return O(e,r,o,i)}],[[u.Number,u.Angle,u.Angle,u.Array,u.Object],function(){return O(e,r,o,i,c)}]])(t)},t.sector=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[0],r=t[1],o=t[2],i=t[3];return h([[[],function(){return N()}],[[u.Object],function(){return N(void 0,void 0,void 0,e)}],[[u.Content],function(){return N(e)}],[[u.Content,u.Object],function(){return N(e,void 0,void 0,r)}],[[u.Angle],function(){return N(void 0,e)}],[[u.Angle,u.Angle],function(){return N(void 0,e,r)}],[[u.Angle,u.Angle,u.Object],function(){return N(void 0,e,r,o)}],[[u.Content,u.Angle],function(){return N(e,r)}],[[u.Content,u.Angle,u.Angle],function(){return N(e,r,o)}],[[u.Content,u.Angle,u.Object],function(){return N(e,r,void 0,o)}],[[u.Content,u.Angle,u.Angle,u.Object],function(){return N(e,r,o,i)}]])(t)},t.text=function(t,n){return void 0===n&&(n={}),r("string"==typeof t,"Content of a Text must be a string."),{type:o.Text,text:t,attrs:n}},t}({});
//# sourceMappingURL=ring-menu.js.map
